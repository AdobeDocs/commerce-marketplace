"use strict";(self.webpackChunkcommerce_marketplace=self.webpackChunkcommerce_marketplace||[]).push([[7778],{4982:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return i},default:function(){return g}});var a=t(87462),r=t(63366),s=(t(15007),t(64983)),o=t(91515),d=["components"],i={},l=function(e){return function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,s.mdx)("div",n)}},m=l("CodeBlock"),p=l("InlineAlert"),u={_frontmatter:i},c=o.Z;function g(e){var n=e.components,t=(0,r.Z)(e,d);return(0,s.mdx)(c,(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,s.mdx)("h1",{id:"test-results"},"Test results"),(0,s.mdx)("p",null,"Submissions go through several reviews before being released on the Commerce Marketplace.\nYou can use the following endpoints to get more information about the current status of a submission.\nSee ",(0,s.mdx)("a",{parentName:"p",href:"packages.md#get-package-details"},"Get package details")," for details about these endpoints."),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-http"},"GET /rest/v1/products/packages/:submission_id/status\nGET /rest/v1/products/packages/sku/:url_encoded_sku/status\nGET /rest/v1/products/packages/item/:item_id/status\nGET /rest/v1/products/packages/:submission_id/status/:tool_name/:tool_run_id\n")),(0,s.mdx)("p",null,"In this example, submission ",(0,s.mdx)("inlineCode",{parentName:"p"},"f4eacd72be")," failed the marketing review.\nUse this request to get a summary report of the review process:"),(0,s.mdx)(m,{slots:"heading, code",repeat:"2",languages:"CURL, JSON",mdxType:"CodeBlock"}),(0,s.mdx)("h2",{id:"request"},"Request"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-curl"},"curl -X GET \\\n     -H 'Authorization: Bearer baGXoStRuR9VCDFQGZNzgNqbqu5WUwlr.cAxZJ9m22Le7' \\\n     https://developer-stg-api.magento.com/rest/v1/products/packages/f4eacd72be/status\n")),(0,s.mdx)("h2",{id:"response"},"Response"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-json"},'[\n    {\n        "tool_run_id": "5",\n        "name": "phpcpd",\n        "status": "pass",\n        "date": "2020-01-07 18:43:32"\n    },\n    {\n        "tool_run_id": "5",\n        "name": "phpcs",\n        "status": "pass",\n        "date": "2020-01-07 18:52:25"\n    },\n    {\n        "tool_run_id": "5",\n        "name": "varnish",\n        "status": "pass",\n        "date": "2020-01-07 18:45:03"\n    },\n    {\n        "tool_run_id": "6",\n        "name": "marketing",\n        "status": "fail",\n        "date": "2020-01-08 16:57:55"\n    }\n]\n')),(0,s.mdx)("p",null,"The ",(0,s.mdx)("inlineCode",{parentName:"p"},"status")," field indicates the overall result of the review, which can be ",(0,s.mdx)("inlineCode",{parentName:"p"},"pass"),", ",(0,s.mdx)("inlineCode",{parentName:"p"},"fail"),", ",(0,s.mdx)("inlineCode",{parentName:"p"},"error"),", or ",(0,s.mdx)("inlineCode",{parentName:"p"},"needs_review"),"."),(0,s.mdx)("p",null,"Additional details for each review can be found using the status API with the tool name and the tool run ID."),(0,s.mdx)(m,{slots:"heading, code",repeat:"2",languages:"CURL, JSON",mdxType:"CodeBlock"}),(0,s.mdx)("h2",{id:"request-1"},"Request"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-curl"},"curl -X GET \\\n     -H 'Authorization: Bearer baGXoStRuR9VCDFQGZNzgNqbqu5WUwlr.cAxZJ9m22Le7' \\\n     https://developer-stg-api.magento.com/rest/v1/f4eacd72be/status/marketing/6\n")),(0,s.mdx)("h2",{id:"response-1"},"Response"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "tool": "marketing",\n    "status": "FAIL",\n    "reports": {\n        "tool": "marketing",\n        "vendor": "acme",\n        "extension": "one-click-checkout",\n        "version" : "1.1.5",\n        "status": "FAIL",\n        "date": "2020-01-08 16:57:55",\n        "details": {\n            "reasons": ["Long Description: Your extension long description contains several errors. View marketing review guidelines..."],\n            "message": "Please correct grammar and spelling issues. See attached screenshots for more information.",\n            "attachment": "https://mp-stg-static.magento.com/user/attachments/ha/8d/ha8d83d9482un439d8s09xnc88/prv/jj/t1/jjt18m0u38ru0v4v8y76q5e2xre5vrecz/spelling.zip"\n        }\n    }\n}\n')),(0,s.mdx)("ul",null,(0,s.mdx)("li",{parentName:"ul"},"The top-level ",(0,s.mdx)("inlineCode",{parentName:"li"},"status")," field contains the final decision made for this test. All status values in the ",(0,s.mdx)("inlineCode",{parentName:"li"},"reports")," array must be PASS in order for the test to pass."),(0,s.mdx)("li",{parentName:"ul"},"The ",(0,s.mdx)("inlineCode",{parentName:"li"},"reports")," array can contain multiple entries. For automated tests, there will be additional information about the environment used for testing."),(0,s.mdx)("li",{parentName:"ul"},"The ",(0,s.mdx)("inlineCode",{parentName:"li"},"details")," array structure will be different for each test.")),(0,s.mdx)("h2",{id:"test-result-structures"},"Test result structures"),(0,s.mdx)("p",null,"The following examples demonstrate failure reports for each test type."),(0,s.mdx)("h3",{id:"code-sniffer-phpcs"},"Code Sniffer (PHPCS)"),(0,s.mdx)("p",null,"A code sniffer will be run against every PHP version the extension is compatible with.\nThe ",(0,s.mdx)("inlineCode",{parentName:"p"},"reports")," array contains a separate entry for each environment.\nThe ",(0,s.mdx)("inlineCode",{parentName:"p"},"details")," array contains the output generated by the Code Sniffer tool."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Additional fields:")),(0,s.mdx)("table",null,(0,s.mdx)("thead",{parentName:"table"},(0,s.mdx)("tr",{parentName:"thead"},(0,s.mdx)("th",{parentName:"tr",align:null},"Field Name"),(0,s.mdx)("th",{parentName:"tr",align:null},"Type"),(0,s.mdx)("th",{parentName:"tr",align:null},"Value"))),(0,s.mdx)("tbody",{parentName:"table"},(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},(0,s.mdx)("inlineCode",{parentName:"td"},"php_version")),(0,s.mdx)("td",{parentName:"tr",align:null},"string"),(0,s.mdx)("td",{parentName:"tr",align:null},"PHP version number")))),(0,s.mdx)(m,{slots:"heading, code",repeat:"2",languages:"CURL, JSON",mdxType:"CodeBlock"}),(0,s.mdx)("h4",{id:"request-2"},"Request"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-curl"},"curl -X GET \\\n     -H 'Authorization: Bearer baGXoStRuR9VCDFQGZNzgNqbqu5WUwlr.cAxZJ9m22Le7' \\\n     https://developer-stg-api.magento.com/rest/v1/f4eacd72be/status/phpcs/8\n")),(0,s.mdx)("h4",{id:"response-2"},"Response"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "tool": "phpcs",\n    "status": "FAIL",\n    "reports": [\n        {\n            "tool": "phpcs",\n            "vendor": "acme",\n            "extension": "one-click-checkout",\n            "version" : "1.1.5",\n            "php_version" : "7.1.16",\n            "status": "FAIL",\n            "date": "2020-01-07 18:52:25",\n            "details": {\n                "totals": {\n                    "errors": 1,\n                    "warnings": 0,\n                    "fixable": 0\n                },\n                "files": {\n                    "\\/eqp-automation\\/temp\\/acme\\/one-click-checkout\\/acme-one-click-checkout-1.1.5\\/registration.php": {\n                        "errors": 1,\n                        "warnings": 0,\n                        "messages": [\n                            {\n                                "message": "\\"resource\\" is a reserved word in PHP 7",\n                                "source": "MEQP2.NamingConventions.ReservedWords.FoundReservedWord",\n                                "severity": 10,\n                                "type": "ERROR",\n                                "line": 3,\n                                "column": 36,\n                                "fixable": false\n                            }\n                        ]\n                    }\n                }\n            }\n        },\n        {\n            "tool": "phpcs",\n            "vendor": "acme",\n            "extension": "one-click-checkout",\n            "version" : "1.1.5",\n            "php_version" : "5.6.38",\n            "status": "PASS",\n            "date": "2020-01-07 18:52:25",\n            "details": {\n                "totals": {\n                    "errors": 0,\n                    "warnings": 0,\n                    "fixable": 0\n                },\n                "files": {\n                  "\\/eqp-automation\\/temp\\/acme\\/one-click-checkout\\/acme-one-click-checkout-1.1.5\\/registration.php": {\n                        "errors": 0,\n                        "warnings": 0,\n                        "messages": []\n                    }\n                }\n            }\n        }\n    ]\n}\n')),(0,s.mdx)("h3",{id:"copy-paste-detector"},"Copy-Paste Detector"),(0,s.mdx)(p,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,s.mdx)("p",null,"Copy-Paste Detector (PHPCPD) reports cannot be directly requested. Only the summary data is available through the API."),(0,s.mdx)("h3",{id:"varnish"},"Varnish"),(0,s.mdx)("p",null,"The Varnish test installs the extension into a Magento instance and attempts to access several pages to determine if Varnish caching is working as expected.\nThe test will be run against all combinations of Magento versions, Magento editions, and PHP versions."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Additional fields:")),(0,s.mdx)("table",null,(0,s.mdx)("thead",{parentName:"table"},(0,s.mdx)("tr",{parentName:"thead"},(0,s.mdx)("th",{parentName:"tr",align:null},"Field Name"),(0,s.mdx)("th",{parentName:"tr",align:null},"Type"),(0,s.mdx)("th",{parentName:"tr",align:null},"Value"))),(0,s.mdx)("tbody",{parentName:"table"},(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},(0,s.mdx)("inlineCode",{parentName:"td"},"php_version")),(0,s.mdx)("td",{parentName:"tr",align:null},"string"),(0,s.mdx)("td",{parentName:"tr",align:null},"PHP version number")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},(0,s.mdx)("inlineCode",{parentName:"td"},"magento_platform")),(0,s.mdx)("td",{parentName:"tr",align:null},"string"),(0,s.mdx)("td",{parentName:"tr",align:null},"M1 or M2")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},(0,s.mdx)("inlineCode",{parentName:"td"},"magento_edition")),(0,s.mdx)("td",{parentName:"tr",align:null},"string"),(0,s.mdx)("td",{parentName:"tr",align:null},"CE or EE")),(0,s.mdx)("tr",{parentName:"tbody"},(0,s.mdx)("td",{parentName:"tr",align:null},(0,s.mdx)("inlineCode",{parentName:"td"},"magento_version")),(0,s.mdx)("td",{parentName:"tr",align:null},"string"),(0,s.mdx)("td",{parentName:"tr",align:null},"Magento version number")))),(0,s.mdx)(m,{slots:"heading, code",repeat:"2",languages:"CURL, JSON",mdxType:"CodeBlock"}),(0,s.mdx)("h4",{id:"request-3"},"Request"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-curl"},"curl -X GET \\\n     -H 'Authorization: Bearer baGXoStRuR9VCDFQGZNzgNqbqu5WUwlr.cAxZJ9m22Le7' \\\n     https://developer-stg-api.magento.com/rest/v1/f4eacd72be/status/varnish/8\n")),(0,s.mdx)("h4",{id:"response-3"},"Response"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "tool" : "varnish",\n    "status" : "FAIL",\n    "reports" : [\n        {\n            "tool": "varnish",\n            "vendor": "acme",\n            "extension": "one-click-checkout",\n            "version": "1.1.5",\n            "magento_platform" : "M2",\n            "magento_edition" : "CE",\n            "magento_version" : "2.2.3",\n            "php_version" : "7.1.16",\n            "status": "FAIL",\n            "date": "2020-01-07 19:45:42",\n            "details" : [\n                {\n                    "command": "composer require acme\\/one-click-checkout:1.1.5 2>&1",\n                    "output" : "<string output of composer require command goes here>"\n                },\n                {\n                    "command": "php bin\\/magento setup:upgrade",\n                    "output" : "<string output of setup:upgrade command goes here>"\n                },\n                ...\n            ]\n        },\n        ...\n    ]\n}\n')),(0,s.mdx)("p",null,"The last command/output step in the details section is the command that failed to execute successfully."),(0,s.mdx)("h3",{id:"marketing-and-manual-qa"},"Marketing and Manual QA"),(0,s.mdx)("p",null,"The Marketing and Manual QA reviews share the same report structure. There should only be one entry in the\n",(0,s.mdx)("inlineCode",{parentName:"p"},"reports")," array for these reviews. The tool names are ",(0,s.mdx)("strong",{parentName:"p"},"marketing")," and ",(0,s.mdx)("strong",{parentName:"p"},"manual_qa")," respectively."),(0,s.mdx)(m,{slots:"heading, code",repeat:"2",languages:"CURL, JSON",mdxType:"CodeBlock"}),(0,s.mdx)("h4",{id:"request-4"},"Request"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-curl"},"curl -X GET \\\n     -H 'Authorization: Bearer baGXoStRuR9VCDFQGZNzgNqbqu5WUwlr.cAxZJ9m22Le7' \\\n     https://developer-stg-api.magento.com/rest/v1/f4eacd72be/status/manual_qa/9\n")),(0,s.mdx)("h4",{id:"response-4"},"Response"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "tool": "manual_qa",\n  "status": "FAIL",\n  "reports": {\n    "tool": "manual_qa",\n    "vendor": "acme",\n    "extension": "one-click-checkout",\n    "version": "1.1.5",\n    "status": "FAIL",\n    "date": "2020-01-14 07:21:57",\n    "details": {\n      "reasons": ["Tech: Your extension does not function as described in the user guide."],\n      "message": "Missing feature - your extension was missing a feature when tested on Magento 2.2.3. See attached screenshots for more information.",\n      "attachment": "https://mp-stg-static.magento.com/user/attachments/ha/8d/ha8d83d9482un439d8s09xnc88/prv/jj/t1/jjt18m0u38ru0v4v8y76q5e2xre5vrecz/missing_feature.zip"\n    }\n  }\n}\n')))}g.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-eqp-v-1-test-results-md-8eda8072c0d66eab1497.js.map