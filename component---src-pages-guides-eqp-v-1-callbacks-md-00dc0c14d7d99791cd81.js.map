{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/guides/eqp/v1/callbacks.md"],"names":["_frontmatter","makeShortcode","name","props","console","warn","InlineAlert","CodeBlock","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","variant","slots","parentName","repeat","languages","isMDXComponent"],"mappings":"mTAQaA,EAAe,GAEtBC,EAAgB,SAAAC,GAAI,OAAI,SAA6BC,GAEzD,OADAC,QAAQC,KAAK,aAAeH,EAAO,4EAC5B,eAASC,KAGZG,EAAcL,EAAc,eAC5BM,EAAYN,EAAc,aAC1BO,EAAc,CAClBR,gBAEIS,EAAYC,IACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGT,GACF,YACD,OAAO,SAACM,GAAD,UAAeD,EAAiBL,EAAhC,CAAuCS,WAAYA,EAAYC,QAAQ,eAG5E,eACE,GAAM,iBADR,kBAGA,2SAEA,SAACP,EAAD,CAAaQ,QAAQ,OAAOC,MAAM,OAAOF,QAAQ,iBACjD,gFACA,wIACA,eACE,GAAM,uBADR,wBAGA,yDAA0C,cAAGG,WAAW,IACpD,KAAQ,YAD8B,gBAA1C,UAGA,uBACE,kBAAOA,WAAW,UAChB,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,MADX,UAGA,eAAIA,WAAW,KACb,MAAS,MADX,SAGA,eAAIA,WAAW,KACb,MAAS,MADX,kBAKJ,kBAAOA,WAAW,UAChB,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,uBAAYA,WAAW,MAAvB,UACH,eAAIA,WAAW,KACb,MAAS,MADX,WAGA,eAAIA,WAAW,KACb,MAAS,MADX,sCAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,uBAAYA,WAAW,MAAvB,SACH,eAAIA,WAAW,KACb,MAAS,MADX,WAGA,eAAIA,WAAW,KACb,MAAS,MADX,kDAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,uBAAYA,WAAW,MAAvB,cACH,eAAIA,WAAW,KACb,MAAS,MADX,WAGA,eAAIA,WAAW,KACb,MAAS,MADX,kCAIF,eAAIA,WAAW,UACb,eAAIA,WAAW,KACb,MAAS,OACR,uBAAYA,WAAW,MAAvB,cACH,eAAIA,WAAW,KACb,MAAS,MADX,WAGA,eAAIA,WAAW,KACb,MAAS,MADX,yEAMN,SAACT,EAAD,CAAWQ,MAAM,gBAAgBE,OAAO,IAAIC,UAAU,aAAaL,QAAQ,eAC3E,eACE,GAAM,WADR,YAGA,qBAAK,iBAAMG,WAAW,MAClB,UAAa,iBADZ,oYAQL,eACE,GAAM,YADR,aAGA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,qOAcL,eACE,GAAM,kBADR,mBAGA,oLAEA,sJAEA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,6CAIL,eACE,GAAM,uBADR,wBAGA,mEAAoD,uBAAYA,WAAW,KAAvB,kBAApD,iBACE,uBAAYA,WAAW,KAAvB,eADF,sGAE+B,uBAAYA,WAAW,KAAvB,eAF/B,6GAIA,eACE,GAAM,yBADR,0BAGA,4DAA6C,cAAGA,WAAW,IACvD,KAAQ,YADiC,QAA7C,qDAGA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,4KAUL,eACE,GAAM,qBADR,sBAGA,0DAA2C,cAAGA,WAAW,IACrD,KAAQ,eAD+B,WAA3C,yDAGA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,kPAgBTL,EAAWQ,gBAAiB","file":"component---src-pages-guides-eqp-v-1-callbacks-md-00dc0c14d7d99791cd81.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-marketplace/commerce-marketplace/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst CodeBlock = makeShortcode(\"CodeBlock\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"api-callbacks\"\n    }}>{`API callbacks`}</h1>\n    <p>{`The multiple steps of the EQP process take time to complete. The results of these steps can impact the availability or status of data that was previously submitted.\nRather than having to continuously poll for updates, you can register an API callback URL in the user profile.`}</p>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`API Callback URLs can only be registered through the API.`}</p>\n    <p>{`Whenever an update occurs to a product or a file, a JSON API request will be sent to the registered callback URL.`}</p>\n    <h2 {...{\n      \"id\": \"register-a-callback\"\n    }}>{`Register a callback`}</h2>\n    <p>{`Callbacks are registered using the `}<a parentName=\"p\" {...{\n        \"href\": \"users.md\"\n      }}>{`User Profile`}</a>{` API.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Field`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`name`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Optional: name for this callback`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`url`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`URL that will receive callback JSON requests`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`username`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Basic authorization username`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`password`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Basic authorization password - never returned in the GET response`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <CodeBlock slots=\"heading, code\" repeat=\"2\" languages=\"CURL, JSON\" mdxType=\"CodeBlock\" />\n    <h3 {...{\n      \"id\": \"request\"\n    }}>{`Request`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-curl\"\n      }}>{`curl -X PUT \\\\\n     -H 'Authorization: Bearer baGXoStRuR9VCDFQGZNzgNqbqu5WUwlr.cAxZJ9m22Le7' \\\\\n     -H 'Content-Type: application/json' \\\\\n     -d '{\"api_callbacks\": [{\"name\": \"My 1st EQP Callback\",\"url\": \"https://developer.example.com/rest/v1/callback\",\"username\": \"key\",\"password\": \"secret\"}]}' \\\\\n     https://developer-stg-api.magento.com/rest/v1/users/MAG123456789\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"response\"\n    }}>{`Response`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    ...\n    \"api_callbacks\": [\n        {\n            \"name\": \"My 1st EQP Callback\",\n            \"url\": \"https://developer.example.com/rest/v1/callback\",\n            \"username\": \"key\"\n        }\n    ],\n    ...\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"authentication\"\n    }}>{`Authentication`}</h2>\n    <p>{`API callbacks are authenticated using a Basic Authorization header.\nCallbacks are only sent using HTTPS to ensure the security and integrity of the request.`}</p>\n    <p>{`For the callback registered in the example above, the following\nheader will be constructed and sent in every callback request:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-http\"\n      }}>{`Authorization: Basic a2V5OnNlY3JldA==\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"callback-structures\"\n    }}>{`Callback structures`}</h2>\n    <p>{`Each event has a unique code provided in the `}<inlineCode parentName=\"p\">{`callback_event`}</inlineCode>{` field.\nThe `}<inlineCode parentName=\"p\">{`update_info`}</inlineCode>{` object has a different structure, depending on the event code.\nResource IDs are provided in the `}<inlineCode parentName=\"p\">{`update_info`}</inlineCode>{` structure so that additional\ninformation can be requested using the API endpoints for those resources.`}</p>\n    <h3 {...{\n      \"id\": \"file-upload-callbacks\"\n    }}>{`File upload callbacks`}</h3>\n    <p>{`Malware scan results are sent out for `}<a parentName=\"p\" {...{\n        \"href\": \"files.md\"\n      }}>{`File`}</a>{` resources when the asynchronous scan completes.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"callback_event\": \"malware_scan_complete\",\n    \"update_info\": {\n        \"file_upload_id\": \"2309480238.238475.0\",\n        \"tool_result\": \"passed\"\n    }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"package-callbacks\"\n    }}>{`Package callbacks`}</h3>\n    <p>{`EQP status updates are sent out for `}<a parentName=\"p\" {...{\n        \"href\": \"packages.md\"\n      }}>{`Package`}</a>{` resources when the product's EQP state is modified.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"callback_event\": \"eqp_status_update\",\n    \"update_info\": {\n        \"submission_id\": \"s5w9k703ru\",\n        \"item_id\": \"user_upload_version_1\",\n        \"eqp_flow\": \"marketing\",\n        \"current_status\": \"approved\"\n    }\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}